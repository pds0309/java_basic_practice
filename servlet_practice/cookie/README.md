


### Cookie

<br>


#### 무상태성 처리를 위해 클라이언트에 데이터를 저장
	- 클라이언트에 저장
		- 기본적으로는 웹 브라우저 메모리에 저장
		- 파일로 저장
	- 특징
		- 데이터로는 **문자열** 만 가능하다.
			- 세션에서는 문자열 숫자, object 등 다양한 데이터를 처리했음
		- 쿠키 수 제한됨
			- 도메인당 300개만 허용된다.
		- value 길이 제한됨
		- 보안에 취약하다.
			- 클라이언트 브라우저에 저장되기 때문에 사용자가 볼 수 있다.
			- 세션이 서버에 저장되어 보안에 비교적 취약하지 않다.
		- 클라이언트의 거부가 가능함
			- 클라이언트가 쿠키 사용 여부를 결정할 수 있다.

	- 인증,인가 처리 등을 위해 세션과 쿠키를 병행해 사용한다.


<br>



#### `Servlet` 에서 쿠키 설정하기


```java
Cookie c = new Cookie(key ,value);
response.addCookie(c);
```


<br>


#### 쿠키 처리 과정

	- 1. 클라언트가 서버로 요청을 함
	- 2. 서버에서 적절한 서블릿을 실행하고 결과를 만들어냄
	- 3. 클라이언트로 응답해야 함
		- 이 때 `Response`에 쿠키까지 같이 붙여 응답에 포함한다.
		- 쿠키에는 적절한 문자열 정보가 포함되어있다.
		- 쿠키에는 Timeout 을 설정할 수 있다. ( `setMaxAge(Time)` )
			- Timeout을 주면 브라우저에 파일로써 저장된다.
			- Timeout이 없으면 브라우저의 메모리에 저장된다.
	- 4. 클라이언트로 응답한다.
	- 5. 브라우저의 메모리 또는 파일로 쿠키가 저장된다.
	- 6. 결과를 렌더링한다.
	- 7. 클라이언트(브라우저) 에서 서버로 다른 요청을 함
		- 요청에 쿠키가 포함되어있다.
	- 8. 응답 전 Request에 딸려온 쿠키를 서버에서 얻는다.
		- `request.getCookies()`;
		- 쿠키 배열에서 적절한 쿠키에 대한 키를 찾음
			- `Cookie[].getName()`
		

- Servlet 에서 세션 사용을 하면 JSESSIONID 라는 쿠키의 값에 sessionid 가 저장됨

	

